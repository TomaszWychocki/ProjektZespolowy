// test.cpp : Defines the entry point for the console application.
//

#include "stdafx.h"
#include <stdlib.h>
#include <iostream>

double contentPoints[47][2] = {
	{ 26.25, 0.967 },
	{ 26.5, 0.962 },
	{ 26.75, 0.958 },
	{ 27, 0.954 },
	{ 27.25, 0.95 },
	{ 27.75, 0.95 },
	{ 28, 0.955 },
	{ 28.25, 0.951 },
	{ 28.75, 0.952 },
	{ 29, 0.948 },
	{ 29.5, 0.949 },
	{ 29.75, 0.945 },
	{ 30.25, 0.946 },
	{ 30.5, 0.951 },
	{ 30.75, 0.939 },
	{ 31.25, 0.94 },
	{ 32, 0.945 },
	{ 32.5, 0.938 },
	{ 33.25, 0.944 },
	{ 33.75, 0.937 },
	{ 34.25, 0.938 },
	{ 35, 0.929 },
	{ 35.75, 0.934 },
	{ 36.75, 0.935 },
	{ 37.5, 0.933 },
	{ 38.25, 0.925 },
	{ 39.5, 0.93 },
	{ 40.5, 0.92 },
	{ 42, 0.917 },
	{ 43, 0.919 },
	{ 44.75, 0.919 },
	{ 46.25, 0.911 },
	{ 48, 0.911 },
	{ 49.75, 0.902 },
	{ 52, 0.899 },
	{ 54, 0.898 },
	{ 56.25, 0.9 },
	{ 59, 0.894 },
	{ 61.75, 0.893 },
	{ 65.5, 0.889 },
	{ 69.5, 0.888 },
	{ 73.75, 0.883 },
	{ 78.5, 0.879 },
	{ 84.75, 0.875 },
	{ 92, 0.87 },
	{ 100.25, 0.867 },
	{ 112.25, 0.861 }
};

double heaterPoints[47][2] = {
	{ 24.5, 1.046 },
	{ 24.5, 1.051 },
	{ 24.5, 1.036 },
	{ 25, 1.055 },
	{ 25, 1.05 },
	{ 25, 1.035 },
	{ 25.5, 1.049 },
	{ 25.5, 1.054 },
	{ 26, 1.063 },
	{ 26, 1.058 },
	{ 26.5, 1.047 },
	{ 26.5, 1.047 },
	{ 27, 1.056 },
	{ 27.5, 1.059 },
	{ 27.5, 1.059 },
	{ 28, 1.063 },
	{ 28.5, 1.061 },
	{ 28.5, 1.061 },
	{ 29, 1.065 },
	{ 29.5, 1.068 },
	{ 30, 1.063 },
	{ 30.5, 1.07 },
	{ 31, 1.073 },
	{ 31.5, 1.079 },
	{ 32, 1.082 },
	{ 33, 1.091 },
	{ 33.5, 1.082 },
	{ 34.5, 1.091 },
	{ 35, 1.093 },
	{ 36, 1.094 },
	{ 37, 1.105 },
	{ 38, 1.109 },
	{ 39, 1.112 },
	{ 40.5, 1.117 },
	{ 42, 1.128 },
	{ 43, 1.122 },
	{ 45, 1.136 },
	{ 46.5, 1.121 },
	{ 48.5, 1.134 },
	{ 51, 1.137 },
	{ 53.5, 1.145 },
	{ 56.5, 1.148 },
	{ 60, 1.165 },
	{ 63.5, 1.163 },
	{ 68, 1.176 },
	{ 73.5, 1.182 },
	{ 81, 1.193 }
};

double interpolate(double x, double pointsArray[][2], int size, bool extrapolate) {
	if (x <= 24)
		return 1.0;

	int i = 0;
	if (x >= pointsArray[size - 2][0])
		i = size - 2;
	else
		while (x > pointsArray[i + 1][0]) i++;

	double xL = pointsArray[i][0], yL = pointsArray[i][1], xR = pointsArray[i + 1][0], yR = pointsArray[i + 1][1];

	if (!extrapolate) {
		if (x < xL) yR = yL;
		if (x > xR) yL = yR;
	}

	double dydx = (yR - yL) / (xR - xL);
	return yL + dydx * (x - xL);
}

int main()
{
	for (double i = 3; i <= 120; i += 0.55) {
		std::cout << i << " " << (i * interpolate(i, heaterPoints, 47, true)) << " " << (i * interpolate(i, contentPoints, 47, true)) << std::endl;
	}

	getchar();
    return 0;
}

